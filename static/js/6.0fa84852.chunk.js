(this["webpackJsonpott-rentals"]=this["webpackJsonpott-rentals"]||[]).push([[6],{57:function(e,t,r){},71:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r(50),c=r(8),a=r.n(c),i=r(13),o=r.p+"static/media/SecureLogin.c437429a.svg",l=r.p+"static/media/TwoFactorAuthentication.bfabc0dc.svg",u=r(20),d=r(1),b=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),r=Object(n.useRef)(),s=Object(n.useRef)(),c=Object(n.useRef)(),b=function(){var e=Object(i.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=new FormData(t.target),e.next=4,Object(u.a)("/api/login","POST",Object.fromEntries(r));case 4:(n=e.sent).user&&n.status?(console.log(n),localStorage.ORIsLoggedIn=!0,localStorage.token=n.user,localStorage.username=n.username,window.location.reload()):(c.current.innerHTML=n.error,setTimeout((function(){return c.current.innerHTML=""}),3e3));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var n=Object(i.a)(a.a.mark((function n(c){var i,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.preventDefault(),i=new FormData(c.target),i.get("password")===r.current.value){n.next=7;break}return s.current.innerHTML="Password do not match",setTimeout((function(){return s.current.innerHTML=""}),3e3),n.abrupt("return");case 7:return n.next=9,Object(u.a)("/api/register","POST",Object.fromEntries(i));case 9:(o=n.sent).status?(t.current.style.transform="rotateY(180deg)",e.current.style.transform="rotateY(0deg)"):(s.current.innerHTML="".concat(o.error," already exist"),setTimeout((function(){return s.current.innerHTML=""}),3e3));case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("section",{id:"login-container",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)("div",{ref:e,className:"face front",children:[Object(d.jsxs)("div",{className:"left-face",children:[Object(d.jsx)("img",{alt:"",src:o,className:"img-fluid"}),Object(d.jsx)("p",{children:"New Here?"}),Object(d.jsx)("button",{type:"button",onClick:function(){e.current.style.transform="rotateY(180deg)",t.current.style.transform="rotateY(360deg)"},className:"btn login",children:"Register"})]}),Object(d.jsxs)("div",{className:"right-face",children:[Object(d.jsx)("p",{className:"font-bebas display-3",children:"Login"}),Object(d.jsxs)("form",{id:"login-form",onSubmit:function(e){return b(e)},children:[Object(d.jsx)("input",{name:"username",type:"text",className:"input-field",placeholder:"User ID",required:!0}),Object(d.jsx)("input",{name:"password",type:"password",className:"input-field",placeholder:"Enter Password",required:!0}),Object(d.jsx)("input",{type:"checkbox",id:"login-checkbox",className:"check-box"}),Object(d.jsx)("label",{for:"login-checkbox",children:"Remember Password"}),Object(d.jsx)("p",{ref:c,className:"text-danger"}),Object(d.jsx)("button",{type:"submit",className:"btn",children:"Login"})]})]})]}),Object(d.jsxs)("div",{ref:t,className:"face back",children:[Object(d.jsxs)("div",{className:"left-face",children:[Object(d.jsx)("img",{alt:"",src:l,className:"img-fluid"}),Object(d.jsx)("p",{children:"Already Registered?"}),Object(d.jsx)("button",{type:"button",onClick:function(){t.current.style.transform="rotateY(180deg)",e.current.style.transform="rotateY(0deg)"},className:"btn signup",children:"Login"})]}),Object(d.jsxs)("div",{className:"right-face",children:[Object(d.jsx)("p",{className:"font-bebas display-3",children:"Register"}),Object(d.jsxs)("form",{id:"login-form",onSubmit:function(e){return j(e)},children:[Object(d.jsx)("input",{type:"text",className:"input-field",placeholder:"User Name",name:"username",required:!0}),Object(d.jsx)("input",{type:"email",className:"input-field",placeholder:"Email",name:"email",required:!0}),Object(d.jsx)("input",{type:"tel",className:"input-field",placeholder:"Phone Number",pattern:"[0-9]{10}",name:"phonenumber",required:!0}),Object(d.jsx)("input",{type:"password",className:"input-field",placeholder:"Enter Password",name:"password",required:!0}),Object(d.jsx)("input",{type:"password",className:"input-field",placeholder:"Enter Password Again",ref:r,required:!0}),Object(d.jsx)("input",{type:"checkbox",name:"reg-checkbox",id:"reg-checkbox",className:"check-box",required:!0}),Object(d.jsx)("label",{for:"reg-checkbox",children:"I agree to terms and conditions"}),Object(d.jsx)("p",{ref:s,className:"text-danger text-capitalize"}),Object(d.jsx)("button",{type:"submit",className:"btn",children:"Register"})]})]})]})]})})})};r(57),t.default=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(s.a,{children:Object(d.jsx)("title",{children:"Login | OTT Rentals"})}),Object(d.jsx)(b,{})]})}}}]);
//# sourceMappingURL=6.0fa84852.chunk.js.map